/* =========================================================
   CARDS PDF (basado en _cards.css, compacto y estable)
   ========================================================= */

*,
*::before,
*::after { box-sizing: border-box; }

html, body { margin: 0; padding: 0; }

/* Grid: 1 columna (como la foto) */
.pdf-grid{
  display: grid;
  grid-template-columns: 1fr;
  gap: 4mm;
  width: 100%;
}

/* Card */
.card{
  width: 100%;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 2mm;
  background: #fff;
  overflow: hidden;

  break-inside: avoid;
  page-break-inside: avoid;
}

.block{
  min-width: 0;
  border: 1px solid #e6e6e6;
  border-radius: 8px;
  padding: 2mm;
  background: #fafafa;
}

.card-head{ padding: 2mm 3mm; margin-bottom: 1mm; }
.card-body{ margin: 0; padding: 0; border: 0; background: transparent; }
.card-body.block{ padding: 0; border: 0; background: transparent; }

/* Estado peligro */
.card-danger{ border: 2px solid #dc2626; }
.card-danger .card-head{ background: #fff5f5; border-color: #dc2626; }
.card-danger .header-row .h1{ color: #b91c1c; }

/* Cabecera */
.header-row{
  display: grid;
  grid-template-columns: minmax(0, 3fr) minmax(0, 2fr) minmax(0, 1fr);
  gap: 1mm 4mm;
  align-items: start;
}
.header-row > *{ min-width: 0; }

.head-item{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.header-row .h1{ font-size: 10px; font-weight: 800; line-height: 1; }
.header-row .h2{ font-size: 8.8px; color: #444; line-height: 1; }

.head-art{ grid-column: 1 / 2; grid-row: 1; }
.head-family{ grid-column: 2 / 3; grid-row: 1; text-align: center; }
.head-status{ grid-column: 3 / 4; grid-row: 1; text-align: right; }

/* Fila proveedor */
.head-supplier{
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: auto 1fr; /* sin botón acciones en PDF */
  align-items: center;
  column-gap: 4mm;
  white-space: normal;
}
.head-supplier .supplier-line{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}
.head-supplier .supplier-kv{
  display: flex;
  flex-wrap: nowrap;
  gap: 1mm 3mm;
  font-size: 9.2px;
  color: #444;
  line-height: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

/* Cuerpo */
.body-row{
  display: grid;
  grid-template-columns:
    minmax(0, 165px) /* foto */
    minmax(0, 180px)
    minmax(0, 160px)
    minmax(0, 1fr)
    minmax(0, 160px)
    minmax(0, 160px); /* tabla */
  gap: 1mm;
  align-items: stretch;
  width: 100%;
}
.body-row > *{
  height: 100%;
}

/* Foto */
.thumb{
  height: 100%;
  min-height: 42mm;          
  border: 1px solid #eee;
  border-radius: 6px;
  background: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}
.thumb img{
  width: 92%;
  height: 92%;
  object-fit: contain;
}

/* KV */
.kv-grid{
  display: grid;
  grid-template-columns: 1fr;
  gap: 2mm 0;
  font-size: 8px;
}
.kv{
  display: grid;
  grid-template-columns: minmax(60px, 70px) minmax(0, 1fr);
  gap: 1mm;
}
.kv .k{ color: #666; font-weight: 700; }
.kv .v{
  text-align: right;
  font-variant-numeric: tabular-nums;
  white-space: nowrap;
}
.kv-wrap .v,
.kv-multi .v{ white-space: normal; overflow-wrap: anywhere; }

/* ZV3 en dos columnas (igual que web, pero más compacto) */
.body-zv3 .kv-grid{
  grid-template-columns: 1fr 1fr;
  column-gap: 3mm;
  row-gap: 1mm;
}
.body-zv3 .kv-wrap,
.body-zv3 .kv-multi,
.body-zv3 .kv-wide{ grid-column: 1 / -1; }

/* Tabla 12m */
.body-table{ width: 100%; }
.m12-title{
  font-weight: 800;
  font-size: 8.2px;
  margin-bottom: 1mm;
  text-align: center;
  line-height: 1.1;
}
.m12{
  width: 100%;
  border-collapse: collapse;
  font-size: 8px;
  table-layout: fixed;
}
.m12 th, .m12 td{
  padding: 0.6mm 0;
  white-space: nowrap;
  line-height: 0.8;
  text-align: center;
}
.m12 th{ background: #f5f5f5; }

.m12 th:nth-child(1), .m12 td:nth-child(1){ width: 12mm; }
.m12 th:nth-child(2), .m12 td:nth-child(2),
.m12 th:nth-child(3), .m12 td:nth-child(3){ width: 12mm; }

/* En PDF NO hay acciones */
.actions-toggle,
.card-foot{ display: none !important; }
